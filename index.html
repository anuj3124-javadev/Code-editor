<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CodeAI - Your AI Code Playground</title>
  <style>
    /* ----- RESET & VARIABLES ----- */
    *{margin:0;padding:0;box-sizing:border-box}
    :root{
      --primary-bg:#0a0a0f;--secondary-bg:#1a1a2e;--accent-bg:#16213e;
      --neon-blue:#00d4ff;--neon-purple:#8b5cf6;--neon-green:#00ff88;
      --text-primary:#fff;--text-secondary:#a0a0a0;--border-color:#2a2a3e;
      --ok:#10b981;--warn:#f59e0b;--err:#ef4444;
    }
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;background:var(--primary-bg);color:var(--text-primary);overflow-x:hidden;transition:.3s}
    body.light-theme{--primary-bg:#fff;--secondary-bg:#f8fafc;--accent-bg:#e2e8f0;--text-primary:#111827;--text-secondary:#4b5563;--border-color:#e5e7eb}

    /* ----- ANIMATED BACKGROUND ----- */
    .animated-bg{position:fixed;inset:0;z-index:-1;background:linear-gradient(45deg,var(--primary-bg),var(--secondary-bg))}
    .animated-bg::before{
      content:"";position:absolute;inset:0;
      background:
        radial-gradient(circle at 20% 20%,rgba(0,212,255,.12)0%,transparent 50%),
        radial-gradient(circle at 80% 80%,rgba(139,92,246,.12)0%,transparent 50%),
        radial-gradient(circle at 40% 60%,rgba(0,255,136,.07)0%,transparent 50%);
      animation:backgroundPulse 8s ease-in-out infinite
    }
    @keyframes backgroundPulse{0%,100%{opacity:.6}50%{opacity:1}}

    /* ----- WELCOME ----- */
    .welcome-screen{position:fixed;inset:0;display:grid;place-items:center;background:var(--primary-bg);z-index:1000;transition:.8s}
    .welcome-screen.fade-out{opacity:0;transform:scale(.97);pointer-events:none}
    .welcome-content{text-align:center;animation:welcomeUp 1s ease-out}
    @keyframes welcomeUp{from{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}
    .ai-logo{width:120px;height:120px;margin:0 auto 1.25rem;background:linear-gradient(45deg,var(--neon-blue),var(--neon-purple));border-radius:9999px;display:grid;place-items:center;font-size:42px;animation:float 3s ease-in-out infinite;box-shadow:0 0 50px rgba(0,212,255,.28)}
    @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
    .welcome-title{font-size:clamp(32px,6vw,56px);font-weight:800;margin:.5rem 0;background:linear-gradient(45deg,var(--neon-blue),var(--neon-purple));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;animation:glow 2s ease-in-out infinite alternate}
    @keyframes glow{from{filter:brightness(1)}to{filter:brightness(1.25)}}
    .welcome-subtitle{color:var(--text-secondary);margin-bottom:1.75rem}
    .start-btn{background:linear-gradient(45deg,var(--neon-blue),var(--neon-purple));color:#fff;border:0;padding:14px 34px;border-radius:9999px;cursor:pointer;font-weight:700;letter-spacing:.5px;box-shadow:0 8px 30px rgba(0,212,255,.35);transition:.25s;animation:pulse 2s ease-in-out infinite}
    .start-btn:hover{transform:translateY(-2px)}
    @keyframes pulse{0%,100%{box-shadow:0 8px 30px rgba(0,212,255,.35)}50%{box-shadow:0 10px 40px rgba(0,212,255,.55)}}

    /* ----- APP LAYOUT ----- */
    .app-container{display:none;min-height:100vh;grid-template-rows:auto 1fr auto}
    .app-container.active{display:grid;animation:fadeIn .8s}
    @keyframes fadeIn{from{opacity:.2}to{opacity:1}}

    /* HEADER */
    .header{background:var(--secondary-bg);border-bottom:1px solid var(--border-color);padding:12px 20px;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:100}
    .logo{display:flex;align-items:center;gap:10px;font-weight:800;color:var(--neon-blue)}
    .logo-icon{width:36px;height:36px;border-radius:10px;background:linear-gradient(45deg,var(--neon-blue),var(--neon-purple));display:grid;place-items:center;animation:spin 10s linear infinite}
    @keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}
    .header-controls{display:flex;gap:10px}
    .control-btn{background:var(--accent-bg);border:1px solid var(--border-color);color:var(--text-primary);padding:8px 14px;border-radius:9px;cursor:pointer;transition:.2s}
    .control-btn:hover{background:var(--neon-blue);color:#001018;transform:translateY(-1px);box-shadow:0 6px 16px rgba(0,212,255,.25)}
    .theme-toggle{background:none;border:0;color:var(--text-primary);font-size:20px;cursor:pointer;padding:6px 8px;border-radius:50%}
    .theme-toggle:hover{background:var(--accent-bg)}

    /* MAIN */
    .main-content{display:grid;grid-template-columns:1fr 380px;gap:1rem;padding:1rem;min-height:calc(100vh - 120px)}
    @media(max-width:1100px){.main-content{grid-template-columns:1fr}}

    /* EDITOR */
    .editor-section{display:grid;grid-template-rows:auto 1fr auto auto;gap:10px}
    .editor-toolbar{background:var(--secondary-bg);border:1px solid var(--border-color);border-radius:12px;padding:10px;display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:10px}
    .language-tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tab{background:var(--accent-bg);border:0;color:var(--text-secondary);padding:7px 12px;border-radius:7px;cursor:pointer;font-size:.9rem}
    .tab.active{background:var(--neon-blue);color:#001018;font-weight:700}
    .editor-wrapper{display:flex;height:360px;background:var(--secondary-bg);border:1px solid var(--border-color);border-radius:12px;overflow:hidden}
    #lineNumbers{width:48px;background:var(--accent-bg);padding:10px;color:var(--text-secondary);text-align:right;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;user-select:none;overflow:auto}
    #codeTextarea{flex:1;border:0;outline:0;padding:10px;background:transparent;color:var(--text-primary);font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;resize:none;overflow:auto}
    .run-btn{display:inline-flex;align-items:center;gap:8px;background:linear-gradient(45deg,var(--neon-green),#00cc70);border:0;color:#00160e;padding:9px 14px;border-radius:8px;cursor:pointer;font-weight:800}
    .run-btn:hover{filter:brightness(1.1)}

    /* OUTPUT */
    .output-section{display:grid;gap:8px}
    .output-toolbar{display:flex;align-items:center;justify-content:space-between}
    .preview{width:100%;height:min(60vh,720px); /* bigger preview */ border:1px solid var(--border-color);border-radius:12px;background:#fff}
    .terminal{background:#0b1220;border:1px solid var(--border-color);color:#e5e7eb;border-radius:12px;padding:10px;font-family:ui-monospace,monospace;height:240px;overflow:auto}
    .status{font-size:.85rem;color:var(--text-secondary)}

    /* RIGHT COLUMN: TEMPLATES + SETTINGS (AI moved to floating fab) */
    .side-card{background:var(--secondary-bg);border:1px solid var(--border-color);border-radius:12px;overflow:hidden}
    .side-title{padding:12px 14px;background:var(--accent-bg);font-weight:800}
    .side-body{padding:12px}
    .template-list{display:grid;gap:8px;max-height:260px;overflow:auto}
    .template-item{display:flex;justify-content:space-between;align-items:center;background:var(--accent-bg);border:1px solid var(--border-color);border-radius:8px;padding:9px;cursor:pointer}
    .template-item:hover{background:var(--neon-green);color:#002;transform:translateX(4px);box-shadow:0 4px 14px rgba(0,255,136,.28)}

    /* Floating AI assistant */
    .fab{position:fixed;right:18px;bottom:18px;width:54px;height:54px;border-radius:9999px;background:linear-gradient(45deg,var(--neon-purple),var(--neon-blue));display:grid;place-items:center;color:#fff;font-size:22px;cursor:pointer;box-shadow:0 10px 24px rgba(0,0,0,.35);z-index:1200}
    .chat-pop{position:fixed;right:18px;bottom:86px;width:320px;max-height:430px;background:var(--secondary-bg);border:1px solid var(--border-color);border-radius:14px;display:none;flex-direction:column;overflow:hidden;z-index:1200;box-shadow:0 16px 40px rgba(0,0,0,.45);animation:chatIn .2s ease-out}
    @keyframes chatIn{from{transform:translateY(8px);opacity:.6}to{transform:translateY(0);opacity:1}}
    .chat-head{display:flex;align-items:center;gap:8px;padding:10px 12px;background:linear-gradient(45deg,var(--neon-purple),#7c3aed);color:#fff}
    .chat-body{flex:1;display:flex;flex-direction:column;gap:8px;padding:10px;overflow:auto}
    .bubble{padding:8px 10px;border-radius:12px;max-width:85%}
    .bubble.ai{background:var(--accent-bg)}
    .bubble.me{align-self:flex-end;background:var(--neon-blue);color:#001018}
    .chat-foot{display:flex;gap:6px;padding:10px;border-top:1px solid var(--border-color)}
    .chat-foot input{flex:1;background:var(--accent-bg);border:1px solid var(--border-color);border-radius:9999px;color:var(--text-primary);padding:8px 12px;outline:0}
    .chat-foot button{background:var(--neon-purple);border:0;color:#fff;padding:8px 12px;border-radius:9999px;cursor:pointer}

    /* Notifications */
    .toast{position:fixed;top:16px;right:16px;background:var(--neon-blue);color:#001018;padding:12px 16px;border-radius:10px;box-shadow:0 14px 30px rgba(0,0,0,.35);z-index:1500}

    /* Responsive tweaks */
    @media(max-width:640px){.chat-pop{width:92vw}}
  </style>
</head>
<body>
  <div class="animated-bg"></div>

  <!-- WELCOME -->
  <div class="welcome-screen" id="welcomeScreen">
    <div class="welcome-content">
      <div class="ai-logo">ü§ñ</div>
      <div class="welcome-title">CodeAI</div>
      <div class="welcome-subtitle">Your AI-Powered Coding Playground</div>
      <button class="start-btn" onclick="startApp()">Start Coding</button>
    </div>
  </div>

  <!-- APP -->
  <div class="app-container" id="appContainer">
    <header class="header">
      <div class="logo"><div class="logo-icon">‚ö°</div>CodeAI</div>
      <div class="header-controls">
        <button class="control-btn" onclick="runCode()">
          ‚ñ∂Ô∏è Run / Compile
        </button>
        <button class="control-btn" onclick="refreshOutput()">üîÑ Refresh</button>
        <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()">üåô</button>
      </div>
    </header>

    <main class="main-content">
      <!-- Editor Column -->
      <section class="editor-section">
        <div class="editor-toolbar">
          <div class="language-tabs">
            <button class="tab active" onclick="switchLanguage('html', this)">HTML</button>
            <button class="tab" onclick="switchLanguage('css', this)">CSS</button>
            <button class="tab" onclick="switchLanguage('js', this)">JS</button>
            <button class="tab" onclick="switchLanguage('c', this)">C</button>
            <button class="tab" onclick="switchLanguage('cpp', this)">C++</button>
            <button class="tab" onclick="switchLanguage('java', this)">Java</button>
          </div>
          <div class="status" id="statusMsg">Ready.</div>
        </div>

        <div class="editor-wrapper">
          <pre id="lineNumbers">1</pre>
          <textarea id="codeTextarea"
            oninput="updateLineNumbers(); maybeSuggest();"
            onscroll="syncScroll()"
            spellcheck="false"></textarea>
        </div>

        <!-- Output Area -->
        <div class="output-section">
          <div class="output-toolbar">
            <strong id="outputTitle">Live Preview</strong>
            <span class="status" id="runStatus"></span>
          </div>
          <!-- For HTML/CSS/JS we use iframe preview; for C/C++/Java we show terminal -->
          <iframe id="outputFrame" class="preview"></iframe>
          <pre id="terminal" class="terminal" style="display:none;"></pre>
        </div>
      </section>

      <!-- Right Column -->
      <aside>
        <div class="side-card" style="margin-bottom:12px;">
          <div class="side-title">üìã Templates</div>
          <div class="side-body">
            <div class="template-list" id="tplList"></div>
          </div>
        </div>

        <div class="side-card">
          <div class="side-title">‚öôÔ∏è Settings</div>
          <div class="side-body" style="display:grid;gap:10px">
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <span>Theme</span>
              <button class="control-btn" onclick="toggleTheme()">Toggle</button>
            </div>
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <span>Font Size</span>
              <input type="range" min="12" max="20" value="14" oninput="changeFontSize(this.value)"/>
            </div>
          </div>
        </div>
      </aside>
    </main>

    <footer style="padding:18px;text-align:center;color:var(--text-secondary);border-top:1px solid var(--border-color)">
      ¬© 2024 CodeAI ‚Äî Built for devs.
    </footer>
  </div>

  <!-- Floating AI assistant -->
  <button class="fab" id="fab" title="Ask AI">üí¨</button>
  <div class="chat-pop" id="chatBox">
    <div class="chat-head">ü§ñ AI Assistant</div>
    <div class="chat-body" id="chatBody">
      <div class="bubble ai">Hi! Ask me about HTML, CSS, JS, C, C++ or Java.</div>
    </div>
    <div class="chat-foot">
      <input id="chatInput" placeholder="Type a question..." onkeydown="if(event.key==='Enter'){sendChat()}"/>
      <button onclick="sendChat()">Send</button>
    </div>
  </div>

  <script>
    /* ==========================
       GLOBAL STATE & TEMPLATES
       ========================== */
    const PISTON_ENDPOINT = 'https://emkc.org/api/v2/piston/execute'; // public sandbox
    let currentLanguage = 'html';
    const codeData = { html: '', css: '', js: '', c: '', cpp: '', java: '' };

    const templates = {
      html: `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Demo</title>
</head>
<body>
  <h1>Hello, CodeAI!</h1>
  <p>Edit HTML/CSS/JS and click Run.</p>
</body>
</html>`,
      css: `body{
  margin:0;min-height:100vh;
  display:grid;place-items:center;
  background: linear-gradient(135deg,#667eea 0%, #764ba2 100%);
  color:#fff;font-family:system-ui, sans-serif;
}
h1{animation:fadeIn 1s ease}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}`,
      js: `document.addEventListener('DOMContentLoaded', ()=>{
  const btn=document.createElement('button');
  btn.textContent='Click me';
  btn.style.padding='10px 16px';
  btn.onclick=()=>alert('Hello from JS!');
  document.body.appendChild(btn);
});`,
      c: `#include <stdio.h>
int main(){
  printf("Hello from C!\\n");
  return 0;
}`,
      cpp: `#include <bits/stdc++.h>
using namespace std;
int main(){
  cout << "Hello from C++!" << endl;
  return 0;
}`,
      java: `import java.util.*;
public class Main {
  public static void main(String[] args){
    System.out.println("Hello from Java!");
  }
}`
    };

    const templateMeta = [
      { id:'html', label:'Basic HTML' },
      { id:'css',  label:'CSS Starter' },
      { id:'js',   label:'JS Button' },
      { id:'c',    label:'C Hello' },
      { id:'cpp',  label:'C++ Hello' },
      { id:'java', label:'Java Main' },
    ];

    const aiHints = {
      general: ["Consider extracting a function.", "Name variables descriptively.", "Keep functions small and focused."],
      html: ["Use semantic tags like <header>, <main>, <footer>.", "Add alt text to images for accessibility."],
      css: ["Prefer flexbox/grid for layout.", "Use CSS variables for consistent theming."],
      js: ["Use const/let instead of var.", "Check console for runtime errors."],
      c: ["Remember to return 0 in main.", "Use stdio.h for IO."],
      cpp: ["Prefer <iostream> over printf.", "Use std::vector instead of raw arrays when possible."],
      java: ["Class name should match filename when compiling locally.", "Use System.out.println for printing."]
    };

    /* ==========================
       APP BOOT
       ========================== */
    function startApp(){
      document.getElementById('welcomeScreen').classList.add('fade-out');
      setTimeout(()=>{
        document.getElementById('welcomeScreen').style.display='none';
        document.getElementById('appContainer').classList.add('active');
        // load defaults
        for(const k of Object.keys(templates)){ codeData[k] = templates[k]; }
        document.getElementById('codeTextarea').value = codeData[currentLanguage];
        updateLineNumbers();
        buildTemplates();
        runCode(); // initial preview
      },800);
    }

    /* ==========================
       UI HELPERS
       ========================== */
    function toggleTheme(){
      document.body.classList.toggle('light-theme');
      document.getElementById('themeToggle').textContent =
        document.body.classList.contains('light-theme') ? '‚òÄÔ∏è' : 'üåô';
    }
    function changeFontSize(v){
      document.getElementById('codeTextarea').style.fontSize = v+'px';
      document.getElementById('lineNumbers').style.fontSize = v+'px';
    }
    function toast(msg, kind='info'){
      const t = document.createElement('div');
      t.className='toast';
      t.style.background = kind==='ok' ? 'var(--ok)' : kind==='err' ? 'var(--err)' : 'var(--neon-blue)';
      t.textContent=msg; document.body.appendChild(t);
      setTimeout(()=>{ t.style.opacity='0'; setTimeout(()=>t.remove(),250); },2500);
    }

    /* ==========================
       TABS & EDITOR
       ========================== */
    function switchLanguage(lang, btn){
      document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
      btn.classList.add('active');
      // persist current
      codeData[currentLanguage] = document.getElementById('codeTextarea').value;
      currentLanguage = lang;
      document.getElementById('codeTextarea').value = codeData[lang] || '';
      updateLineNumbers();
      // toggle output mode title
      const outTitle = document.getElementById('outputTitle');
      if(['html','css','js'].includes(lang)){
        outTitle.textContent = 'Live Preview';
        document.getElementById('outputFrame').style.display='';
        document.getElementById('terminal').style.display='none';
      }else{
        outTitle.textContent = 'Program Output';
        document.getElementById('outputFrame').style.display='none';
        document.getElementById('terminal').style.display='';
      }
    }

    function updateLineNumbers(){
      const ta = document.getElementById('codeTextarea');
      const ln = document.getElementById('lineNumbers');
      const lines = ta.value.split('\n').length;
      let s=''; for(let i=1;i<=lines;i++) s+=i+'\n';
      ln.textContent=s;
    }
    function syncScroll(){
      const ta=document.getElementById('codeTextarea');
      document.getElementById('lineNumbers').scrollTop = ta.scrollTop;
    }

    /* ==========================
       RUN / COMPILE
       ========================== */
    async function runCode(){
      // save current buffer
      codeData[currentLanguage] = document.getElementById('codeTextarea').value;
      const runStatus = document.getElementById('runStatus');
      runStatus.textContent = 'Running... ‚è≥';

      if(['html','css','js'].includes(currentLanguage)){
        const frame = document.getElementById('outputFrame');
        const html = codeData.html;
        const css  = `<style>${codeData.css||''}</style>`;
        const js   = `<script>${(codeData.js||'').replace(/<\/script>/g,'<\\/script>')}<\/script>`;
        frame.srcdoc = html + css + js;
        runStatus.textContent = 'Done.';
        return;
      }

      // Native languages via Piston
      const term = document.getElementById('terminal');
      term.textContent = 'Compiling & running...\n';
      const payload = mapToPistonPayload(currentLanguage, codeData[currentLanguage]);

      try{
        const res = await fetch(PISTON_ENDPOINT, {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify(payload)
        });
        if(!res.ok){
          const txt = await res.text();
          throw new Error(`API error ${res.status}: ${txt}`);
        }
        const data = await res.json();
        const out = (data.run?.stdout || '') + (data.run?.stderr || '');
        term.textContent = out || '(no output)';
        runStatus.textContent = 'Done.';
      }catch(err){
        term.textContent = 'Failed to run code.\n' + err.message + '\nYou can self-host Piston or use another compiler API.';
        runStatus.textContent = 'Error.';
      }
    }

    function refreshOutput(){ runCode(); }

    function mapToPistonPayload(lang, code){
      // Piston uses language ids like "c", "cpp", "java"
      // Version omitted -> latest available
      const files = [{ name: inferFileName(lang), content: code }];
      const compileCmd = undefined; // let Piston decide
      const stdin = ""; // could collect from a small input box if you add one
      const language = (lang==='cpp') ? 'cpp' : (lang==='c') ? 'c' : (lang==='java') ? 'java' : lang;
      return { language, files, stdin, compile_timeout: 10000, run_timeout: 10000 };
    }
    function inferFileName(lang){
      if(lang==='java') return 'Main.java'; // class Main
      if(lang==='c') return 'main.c';
      if(lang==='cpp') return 'main.cpp';
      return 'code.txt';
    }

    /* ==========================
       AI ASSISTANT (floating)
       ========================== */
    const fab = document.getElementById('fab');
    const chat = document.getElementById('chatBox');
    fab.addEventListener('click', ()=>{
      chat.style.display = (chat.style.display==='flex') ? 'none' : 'flex';
    });

    function sendChat(){
      const input = document.getElementById('chatInput');
      const body = document.getElementById('chatBody');
      const msg = input.value.trim();
      if(!msg) return;
      const me = document.createElement('div'); me.className='bubble me'; me.textContent=msg; body.appendChild(me);
      input.value=''; body.scrollTop = body.scrollHeight;

      // simple simulated reply based on language
      const pool = aiHints[currentLanguage] || aiHints.general;
      const reply = pool[Math.floor(Math.random()*pool.length)];
      setTimeout(()=>{
        const ai = document.createElement('div'); ai.className='bubble ai'; ai.textContent = reply;
        body.appendChild(ai); body.scrollTop = body.scrollHeight;
      }, 400);
    }

    function maybeSuggest(){
      // lightweight: show a tiny toast suggestion occasionally
      if(Math.random() < 0.02){
        const pool = (aiHints[currentLanguage] || aiHints.general);
        toast('üí° ' + pool[Math.floor(Math.random()*pool.length)]);
      }
    }

    /* ==========================
       TEMPLATES LIST
       ========================== */
    function buildTemplates(){
      const box = document.getElementById('tplList'); box.innerHTML='';
      templateMeta.forEach(t=>{
        const div = document.createElement('div');
        div.className='template-item';
        div.innerHTML = `<span>${t.label}</span><span>‚ûï</span>`;
        div.onclick = ()=>{
          codeData[t.id] = templates[t.id];
          if(currentLanguage!==t.id){
            // activate corresponding tab
            const tab = [...document.querySelectorAll('.tab')].find(b=>b.textContent.toLowerCase().includes(t.id==='cpp'?'c++':t.id));
            if(tab) switchLanguage(t.id, tab);
          }
          document.getElementById('codeTextarea').value = codeData[t.id];
          updateLineNumbers();
          if(['html','css','js'].includes(t.id)) runCode();
          toast('Template inserted', 'ok');
        };
        box.appendChild(div);
      });
    }

    // Keyboard shortcuts
    document.addEventListener('keydown', (e)=>{
      if(e.ctrlKey || e.metaKey){
        if(e.key.toLowerCase() === 's'){ e.preventDefault(); runCode(); }
        if(e.key === 'Enter'){ e.preventDefault(); runCode(); }
        if(e.key === '1'){ e.preventDefault(); clickTab('html'); }
        if(e.key === '2'){ e.preventDefault(); clickTab('css'); }
        if(e.key === '3'){ e.preventDefault(); clickTab('js'); }
        if(e.key === '4'){ e.preventDefault(); clickTab('c'); }
        if(e.key === '5'){ e.preventDefault(); clickTab('cpp'); }
        if(e.key === '6'){ e.preventDefault(); clickTab('java'); }
      }
    });
    function clickTab(id){
      const btn = [...document.querySelectorAll('.tab')].find(b=>b.textContent.toLowerCase().includes(id==='cpp'?'c++':id));
      if(btn) switchLanguage(id, btn);
    }
  </script>
</body>
</html>
